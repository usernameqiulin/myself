'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactNative = require('react-native');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// 解决国产安卓机，部分机型使用自带的默认字体，导致文字被截断的问题
if (_reactNative.Platform.OS === 'android') {
  var styles = _reactNative.StyleSheet.create({
    defaultFontFamily: {
      fontFamily: 'normal'
    }
  });

  var originRender = _reactNative.Text.prototype.render;

  _reactNative.Text.prototype.render = function () {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var originEl = originRender.call.apply(originRender, [this].concat(args));

    return _react2.default.cloneElement(originEl, {
      style: [styles.defaultFontFamily, originEl.props.style]
    });

    return originEl;
  };
}