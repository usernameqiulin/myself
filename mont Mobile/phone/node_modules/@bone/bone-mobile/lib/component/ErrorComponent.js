'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = ErrorComponent;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactNative = require('react-native');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 默认错误页面
 * @param {Object} errInfo 错误信息
 * @param {String} errInfo.icon 错误页面Icon
 * @param {String} errInfo.statusText 错误页面状态
 * @param {String} errInfo.title 错误页面标题
 * @param {String} errInfo.desc 错误页面详细描述
 **/

// @todo 加上导航栏.
function ErrorComponent(errInfo) {
  return _react2.default.createElement(
    _reactNative.View,
    { style: styles.body },
    _react2.default.createElement(
      _reactNative.View,
      { style: styles.navbar },
      _react2.default.createElement(
        _reactNative.TouchableOpacity,
        { style: styles.arrowContainer, onPress: function onPress() {
            return Bone.navigation.pop();
          } },
        _react2.default.createElement(_reactNative.View, { style: styles.arrow })
      )
    ),
    _react2.default.createElement(
      _reactNative.View,
      { style: styles.container },
      _react2.default.createElement(
        _reactNative.View,
        { style: styles.imageContainer },
        _react2.default.createElement(_reactNative.Image, {
          style: styles.image,
          source: { uri: errInfo.icon || 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAABRCAYAAADrezeJAAAAAXNSR0IArs4c6QAAAT1JREFUSA3tVksOgjAQpSYYNi5cegWjKxcmJhzHlZ4Ar+AhPIGJnsNzYLyAn4jie4WmthaFhXFhJ3k48+Z1KNOCDYLS8jyfAGvgAKTABhirvPwFMQcywDZyMyXqI7jYiqeYuWELao5oy1HuC3NTCgfuvMGOKOwalDvoUHhy5wz2ROHZoNzB+TtCP0d3u7EojRru+/g/faz3ugohMvSEqLKMGm4z2ruqMtdY+G5Pylzjin6OxVrpq+9j/Y3r96PeN4X3pfdaFscBKASOT4ci5ZILKZIfAHyErvBXJCxblTlNY2QELAEe4Aj6kVZ47zcdwCrEwBZQK0M/NmYDIgHugG03EIkUw2ElElXGXBzgwlt8sq2AIkXpnjGX12Cv/pBeUxZD4c7iXOGOc6z3MBwO8QJwPTm5oj3qPmXlyoY/AKP83ggBkYK1AAAAAElFTkSuQmCC' }
        })
      ),
      _react2.default.createElement(
        _reactNative.Text,
        { style: styles.text },
        errInfo.statusText || '页面异常'
      )
    ),
    _react2.default.createElement(
      _reactNative.View,
      { style: styles.descContainer },
      _react2.default.createElement(
        _reactNative.Text,
        { style: styles.title },
        errInfo.title || '页面异常'
      ),
      _react2.default.createElement(
        _reactNative.Text,
        { style: styles.desc },
        errInfo.desc || '找不到该页面 404 page not found'
      )
    )
  );
}

var _Dimensions$get = _reactNative.Dimensions.get('window'),
    width = _Dimensions$get.width,
    height = _Dimensions$get.height;

var isIOS = _reactNative.Platform.OS === 'ios';
var iPhoneX = isIOS && (height === 812 || width === 812);
var navbarHeight = isIOS ? iPhoneX ? 84 : 64 : 44;
var navbarPaddingTop = isIOS ? iPhoneX ? 40 : 20 : 0;

var styles = _reactNative.StyleSheet.create({
  body: {
    flex: 1
  },
  navbar: {
    height: navbarHeight,
    paddingTop: navbarPaddingTop,
    backgroundColor: '#808b8b'
  },
  arrowContainer: {
    flex: 1,
    paddingLeft: 16,
    paddingRight: 16,
    justifyContent: 'center'
  },
  arrow: {
    width: 11,
    height: 11,
    marginLeft: 1,
    borderTopWidth: 2,
    borderLeftWidth: 2,
    borderColor: '#fff',
    transform: [{ rotate: '-45deg' }]
  },
  container: {
    height: 236,
    paddingTop: 43,
    backgroundColor: '#808b8b',
    alignItems: 'center'
  },
  imageContainer: {
    width: 92,
    height: 92,
    borderWidth: 2,
    borderColor: '#fff',
    borderRadius: 46,
    alignItems: 'center',
    justifyContent: 'center'
  },
  image: {
    width: 5,
    height: 41
  },
  text: {
    marginTop: 14,
    height: 20,
    lineHeight: 20,
    fontSize: 14,
    color: '#fff'
  },
  descContainer: {
    flex: 1,
    paddingLeft: 16
  },
  title: {
    height: 20,
    marginTop: 12,
    lineHeight: 20,
    fontSize: 14,
    fontWeight: '500',
    color: '#333'
  },
  desc: {
    height: 17,
    marginTop: 4,
    lineHeight: 17,
    fontSize: 12,
    color: '#999'
  }
});